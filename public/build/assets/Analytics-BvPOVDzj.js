import{d as p,c as r,a as n,o as a,b as x,e as t,w as f,u as v,m as w,f as k,P as V,t as d,F as c,r as m,n as g}from"./app-MbqYixi5.js";const B={class:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 text-[#1b1b18]"},C={class:"mx-auto max-w-7xl"},M={class:"text-center mb-12"},T={class:"text-gray-600"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={class:"bg-white rounded-xl shadow-lg p-6"},H={class:"space-y-4"},j={class:"flex justify-between mb-1"},N={class:"text-sm font-medium text-gray-700"},$={class:"text-sm font-medium text-gray-700"},D={class:"w-full bg-gray-200 rounded-full h-2.5"},F={class:"bg-white rounded-xl shadow-lg p-6"},P={class:"space-y-4"},S={class:"flex justify-between mb-1"},z={class:"text-sm font-medium text-gray-700"},L={class:"text-sm font-medium text-gray-700"},q={class:"w-full bg-gray-200 rounded-full h-2.5"},G={class:"bg-white rounded-xl shadow-lg p-6 md:col-span-2"},J={class:"grid grid-cols-24 gap-2"},K={class:"text-xs text-gray-500 text-center mb-1"},O={class:"w-full bg-gray-200 rounded-full h-24"},R=p({__name:"Analytics",props:{votes:{}},setup(_){const i=_,u=r(()=>i.votes.length),b=r(()=>{const o=new Map;return i.votes.forEach(e=>{const s=o.get(e.team_id)||0;o.set(e.team_id,s+1)}),o}),y=r(()=>{const o=new Map;return i.votes.forEach(e=>{if(e.candidate_id){const s=o.get(e.candidate_id)||0;o.set(e.candidate_id,s+1)}}),o}),h=r(()=>{const o=new Map;return i.votes.forEach(e=>{const s=new Date(e.created_at).getHours(),l=o.get(s)||0;o.set(s,l+1)}),o});return(o,e)=>(a(),n(c,null,[x(v(w),{title:"Analytics"},{default:f(()=>e[0]||(e[0]=[t("link",{rel:"preconnect",href:"https://rsms.me/"},null,-1),t("link",{rel:"stylesheet",href:"https://rsms.me/inter/inter.css"},null,-1)])),_:1}),t("div",B,[t("div",C,[t("div",M,[x(v(V),{href:o.route("home"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors mb-4"},{default:f(()=>e[1]||(e[1]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),k(" Back to Home ")])),_:1},8,["href"]),e[2]||(e[2]=t("h1",{class:"text-4xl font-bold text-gray-900 mb-2"},"Voting Analytics",-1)),t("p",T,"Total Votes: "+d(u.value),1)]),t("div",A,[t("div",E,[e[3]||(e[3]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Votes by Team",-1)),t("div",H,[(a(!0),n(c,null,m(b.value,([s,l])=>(a(),n("div",{key:s,class:"relative"},[t("div",j,[t("span",N,"Team "+d(s),1),t("span",$,d(l)+" votes",1)]),t("div",D,[t("div",{class:"bg-blue-600 h-2.5 rounded-full",style:g({width:`${l/u.value*100}%`})},null,4)])]))),128))])]),t("div",F,[e[4]||(e[4]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Votes by Candidate",-1)),t("div",P,[(a(!0),n(c,null,m(y.value,([s,l])=>(a(),n("div",{key:s,class:"relative"},[t("div",S,[t("span",z,"Candidate "+d(s),1),t("span",L,d(l)+" votes",1)]),t("div",q,[t("div",{class:"bg-green-600 h-2.5 rounded-full",style:g({width:`${l/u.value*100}%`})},null,4)])]))),128))])]),t("div",G,[e[5]||(e[5]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Votes by Hour",-1)),t("div",J,[(a(),n(c,null,m(24,s=>t("div",{key:s,class:"relative"},[t("div",K,d(s-1)+":00",1),t("div",O,[t("div",{class:"bg-purple-600 rounded-full w-full",style:g({height:`${(h.value.get(s-1)||0)/Math.max(...Array.from(h.value.values()))*100}%`})},null,4)])])),64))])])])])])],64))}});export{R as default};
