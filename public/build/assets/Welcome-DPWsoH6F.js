import{d as S,h as n,c as B,a as l,o as a,b as f,e as t,w as v,u as g,m as P,i as c,v as M,j as N,f as x,P as j,g as E,k as F,l as T,p as y,F as m,r as w,t as h,W as U}from"./app-CAbrZPY1.js";const A={class:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 text-[#1b1b18]"},L={key:0,class:"bg-white rounded-xl shadow-lg p-8 max-w-md mx-auto mt-20"},W={class:"space-y-4"},z={key:1,class:"container mx-auto px-4 py-8"},D={class:"text-center mb-12"},K={class:"max-w-3xl mx-auto"},q={class:"bg-white rounded-xl shadow-lg p-8"},H={key:0,class:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4"},I={class:"space-y-2"},R=["disabled"],Y=["value"],G={class:"space-y-2"},J=["disabled"],O=["value"],Q=["disabled"],X={key:0,class:"flex items-center justify-center"},Z={key:1},$="CLACBarja25",te=S({__name:"Welcome",props:{teams:{},candidates:{}},setup(k){const _=k,o=n({team_id:"",candidate_id:""}),r=n(!1),d=n(!1),u=n(""),b=n(!1),p=()=>{u.value===$?b.value=!0:alert("Incorrect password")},C=B(()=>o.value.team_id?_.candidates.filter(i=>i.team_id===Number(o.value.team_id)):[]),V=async()=>{if(r.value=!0,d.value=!1,!o.value.team_id){alert("Please select a team and candidate"),r.value=!1;return}try{await U.post(route("home"),o.value),d.value=!0,o.value={team_id:"",candidate_id:""}}catch(i){console.error("Error submitting vote:",i)}finally{r.value=!1}};return(i,e)=>(a(),l(m,null,[f(g(P),{title:"Election Voting"},{default:v(()=>e[3]||(e[3]=[t("link",{rel:"preconnect",href:"https://rsms.me/"},null,-1),t("link",{rel:"stylesheet",href:"https://rsms.me/inter/inter.css"},null,-1)])),_:1}),t("div",A,[b.value?(a(),l("div",z,[t("div",D,[e[7]||(e[7]=t("h1",{class:"text-4xl font-bold text-gray-900 mb-2"},"Election Voting System",-1)),e[8]||(e[8]=t("p",{class:"text-gray-600"},"Cast your vote for your preferred candidate",-1)),f(g(j),{href:i.route("result"),class:"inline-flex items-center px-6 py-3 text-lg font-semibold text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors"},{default:v(()=>e[6]||(e[6]=[x(" View Voting Results "),t("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1},8,["href"])]),t("div",K,[t("div",q,[d.value?(a(),l("div",H,e[9]||(e[9]=[F('<div class="flex items-center"><div class="flex-shrink-0"><svg class="h-6 w-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><div class="ml-3"><p class="text-sm font-medium text-green-800">The vote has been successfully recorded!</p></div></div>',1)]))):E("",!0),t("form",{onSubmit:T(V,["prevent"]),class:"space-y-6"},[t("div",I,[e[11]||(e[11]=t("label",{for:"team",class:"block text-lg font-medium text-gray-900"},"Select Team",-1)),c(t("select",{id:"team","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.team_id=s),class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-lg py-3 text-gray-900",required:"",disabled:r.value},[e[10]||(e[10]=t("option",{value:"",class:"text-gray-900"},"Choose a team...",-1)),(a(!0),l(m,null,w(i.teams,s=>(a(),l("option",{key:s.id,value:s.id,class:"text-gray-900"},h(s.name),9,Y))),128))],8,R),[[y,o.value.team_id]])]),t("div",G,[e[13]||(e[13]=t("label",{for:"candidate",class:"block text-lg font-medium text-gray-900"},"Select Candidate",-1)),c(t("select",{id:"candidate","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.candidate_id=s),class:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-lg py-3 text-gray-900",disabled:r.value||!o.value.team_id},[e[12]||(e[12]=t("option",{value:"",class:"text-gray-900"},"Choose a candidate...",-1)),(a(!0),l(m,null,w(C.value,s=>(a(),l("option",{key:s.id,value:s.id},h(s.name),9,O))),128))],8,J),[[y,o.value.candidate_id]])]),t("button",{type:"submit",class:"w-full bg-blue-600 text-white rounded-lg py-3 px-6 text-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value||!o.value.team_id},[r.value?(a(),l("span",X,e[14]||(e[14]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),x(" Processing... ")]))):(a(),l("span",Z,"Cast Your Vote"))],8,Q)],32)])])])):(a(),l("div",L,[e[5]||(e[5]=t("h2",{class:"text-2xl font-semibold text-gray-900 mb-6 text-center"},"Protected Content",-1)),t("div",W,[t("div",null,[e[4]||(e[4]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),c(t("input",{type:"password",id:"password","onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),onKeyup:N(p,["enter"]),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter password"},null,544),[[M,u.value]])]),t("button",{onClick:p,class:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"}," Unlock Form ")])]))])],64))}});export{te as default};
